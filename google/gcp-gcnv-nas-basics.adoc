---
sidebar: sidebar 
permalink: google/gcp-gcnv-nas-basics.html 
keywords: nas, basics, gcp, nfs, smb 
summary: NAS 協定是網路上的多個用戶端存取儲存系統上的相同資料的方式，例如 GCP 上的Google Cloud NetApp Volumes 。  NFS 和 SMB 是定義的 NAS 協議，在客戶端/伺服器基礎上運行，其中Google Cloud NetApp Volumes充當伺服器。 
---
= NAS 協定基礎知識
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
NAS 協定是網路上的多個用戶端存取儲存系統上的相同資料的方式，例如 GCP 上的Google Cloud NetApp Volumes 。 NFS 和 SMB 是定義的 NAS 協議，在客戶端/伺服器基礎上運行，其中Google Cloud NetApp Volumes充當伺服器。客戶端向伺服器發送存取、讀取和寫入請求，伺服器負責協調文件的鎖定機制、儲存權限以及處理身份和身份驗證請求。

例如，如果 NAS 用戶端想要在資料夾中建立新文件，請遵循以下一般流程。

. 客戶端向伺服器詢問有關目錄的資訊（權限、擁有者、群組、文件 ID、可用空間等）；如果請求的客戶端和使用者對父資料夾具有必要的權限，則伺服器會回應該資訊。
. 如果目錄的權限允許訪問，客戶端就會詢問伺服器正在建立的檔案名稱是否已經存在於檔案系統中。如果檔案名稱已被使用，則建立失敗。如果檔案名稱不存在，伺服器會讓客戶端知道可以繼續。
. 客戶端向伺服器發出調用，使用目錄句柄和文件名建立文件，並設定存取和修改時間。伺服器為文件發出唯一的文件 ID，以確保沒有其他文件使用相同的文件 ID 建立。
. 客戶端在 WRITE 操作之前傳送呼叫來檢查檔案屬性。如果權限允許，客戶端就會寫入新檔案。如果協定/應用程式使用了鎖定，用戶端會向伺服器請求鎖定，以防止其他用戶端在鎖定時存取文件，從而防止資料損壞。

